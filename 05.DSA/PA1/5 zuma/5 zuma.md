# 1-5 Zuma Report

2018011365 计84 张鹤潇

#### 算法简述

根据题后的提示，用块状链表进行模拟。 取每个块的大小$sqn$.

- 每次插入后，检查块的大小($size$). 如果 $size\ge 2*sqn$, 则将该块分裂成两份；

- 每次删除后，也检查块的大小。如果相邻两块大小之和小于$sqn$，则将两块合并.

分裂、删除、合并等操作均调用了`memmove`函数.

#### 问题及其解决

针对本题，我一共写了三种不同的数据结构进行模拟：字符数组，链表和块状链表. 在50% Test下，字符数组得到了45分，而链表只得到了15分.  可见**寻址花费的常数时间大于删除和插入花费的时间**。

编写完成后，提交测试发现，如果$sqn$选择的偏小，会有RE的问题；而如果将$sqn$开的大一点，就能accepted。漫长debug之后终于发现，在合并两个块时，没有判定两块大小之和是否小于$sqn$; 在某些情况下，可能导致数组越界.

#### 复杂度分析

记$N=n+m$,空间复杂度$O(N)$.

块状链表寻址，插入，删除的时间复杂度均为$O(\sqrt{N})$. 整个程序时间复杂度为$O(m\sqrt{N})$.

#### 特别说明

理论上来说，为了保持块链的平衡，$sqn$应当取$\sqrt{N}\le 1000$. 但寻址和插入，删除花费的常数时间并不平衡.  为了提高程序运行效率，我取$sqn=7000$.

