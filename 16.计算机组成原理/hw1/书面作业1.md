# 书面作业1

2018011365 张鹤潇

### 1.

错。RISC 指令集长度统一，取指时无需判断指令长度，指令数量、寻址方式也相对精简，所以 RISC 指令处理器的硬件实现更简单，在**其它条件相同**时应当有更高的频率。但是题中并没有“其它条件相同”的条件，处理器的频率不止与指令集有关，严谨地说，本题的说法是错误的。

### 2.

对。布斯算法就只需要加减法、移位操作，以及根据两个 bit 的值执行相应操作的控制逻辑单元；加减交替除法也是这样的。

### 3.

对。恢复余数法需要恢复余数的次数不确定，而加减交替法不需要恢复余数，使电路设计也变得简单了。

### 4.

B 

### 5.

D 

### 6.

BD 

### 7.

B

### 8.

A

### 9.

记$[x]_补=(x_{n-1}x_{n-2}\cdots x_1x_0)_2$，
$$
x=-2^{n-1}x_{n-1}+\sum\limits_{i=0}^{n-2}2^ix_i
$$
对于补码乘法，约定$y_{-1}=0$,
$$
\begin{align}
[x*y]_补 &= [x]_补 * ( -2^{n-1}y_{n-1} + \sum_{i=0}^{n-2}{2^iy_i} ) \\
&= [x]_补 * [-2^{n-1}y_{n-1} + \sum_{i=0}^{n-2} (2^{i+1}-2^i)y_i] \\
&= [x]_补 * [2^{n-1}(y_{n-2}-y_{n-1}) + 2^{n-2}(y_{n-3}-y_{n-2}) + \cdots + 2^0(y_{-1}-y_0)]\\
&= [x]_补 * \sum_{i=0}^{n-1}{2^i(y_{i-1}-y_{i})}
\end{align}
$$
这就是布斯算法的数学原理。其大致流程如下：

1. 准备一个长度为两个运算数长度之和的部分积寄存器, 要求支持算术右移, 高 m 位 (与被乘数等长) 初始化为 0, 低 n 位 (与乘数等长) 初始化为乘数; 在部分积最低位之外还需有一位附加位 , 初始化为 0.
2. 根据 `附加位 - 结果最低位`：
	- `+1: 部分积的高 m 位 += 被乘数`
   +   `0 : pass`
   +   `-1: 部分积的高 m 位 -= 被乘数 `
4. 部分积寄存器算术右移 1 位, 右侧溢出位移入附加位. 如果已经移了 n 次, 乘法结束, 否则转 2.

#### 计算 $-7\times3$

在 5 位补码下, $3 = (00011)_2$, $-7 = (11001)_2$. 

```
   0: 00000 11001 0	(init)
   1: 11101 11001 0	(-x) 
      11110 11100 1	(sra)
   2: 00001 11100 1	(+x) 
      00000 11110 0	(sra) 
   3: 00000 11110 0	(0) 
      00000 01111 0	(sra) 
   4: 11101 01111 0	(-x)
      11110 10111 1	(sra)
   5: 11110 10111 1	(0) 
      11111 01011 1	(sra)
```

结果 $(1111101011)_2=-21$; 

### 10.

海明码：$x=p_1p_2d_1p_3d_2d_3d_4p_4$

其中校验位：
$$
\begin{aligned}
p_1 &= d_1 \oplus d_2 \oplus d_4 \\
p_2 &= d_1 \oplus d_3 \oplus d_4\\
p_3 &= d_2 \oplus d_3 \oplus d_4\\
p_4 &= d_1 \oplus d_2 \oplus d_3 \oplus d_4 \oplus p_1 \oplus p_2 \oplus p_3
\end{aligned}
$$
对于 $d_1d_2d_3d_4=1011$,  $p_1p_2p_3p_4=0100$, $x=01100110$
出错后 $d_1'd_2'd_3'd_4'=1001$，接收方校验位与对应数据位做异或，
$$
\begin{align}
s_1 &= p_1 \oplus d'_1 \oplus d'_2 \oplus d'_4 = 0 \\
s_2 &= p_2 \oplus d'_1 \oplus d'_3 \oplus d'_4 = 1 \\
s_3 &= p_3 \oplus d'_2 \oplus d'_3 \oplus d'_4 = 1 \\
s_4 &= d'_1 \oplus d'_2 \oplus d'_3 \oplus d'_4 \oplus p_1 \oplus p_2 \oplus p_3 \oplus p_4 = 1
\end{align}
$$
 $s_4=1$ 表明有 1 位出错，$s_1=0$ 表明出错位不是 $d_1,d_2,d_4$，应当是$d_3$出错。